import{u as re,a as u,j as t,p as h,i as D}from"./index-1--qr7Nr.js";import{b as c,L as g}from"./react-vendor-Cdbk_uD4.js";import{l as A,s as ie,i as ne,u as $}from"./quizRepo-mmAM8qid.js";import{u as oe}from"./useTheme-C8c14WBj.js";import"./firebase-app-08Eyd_Cl.js";import"./firebase-firestore-Cd4_utO_.js";const ae=typeof window<"u"&&["localhost","127.0.0.1"].includes(window.location.hostname),se="tooryanart@gmail.com",C="dashboard:featured-cache:v1",R=ae?"http://localhost:3001":"https://quizengine.onrender.com";function U(l){for(const p of l??[])if(p.media?.type==="image"&&p.media.url)return p.media.url;return null}function O(l,p){const s=[...l,p].join(" ").toLowerCase();return/(geo|Ø¬ØºØ±Ø§Ù|world|Ø¹Ø§Ù„Ù…|map|Ø®Ø±ÙŠØ·Ø©)/.test(s)?"ğŸ—ºï¸":/(sport|Ø±ÙŠØ§Ø¶|ÙƒØ±Ø©|ball|Ø£ÙˆÙ„Ù…Ø¨)/.test(s)?"âš½":/(science|Ø¹Ù„ÙˆÙ…|tech|ØªÙƒÙ†ÙˆÙ„|physics|chem)/.test(s)?"âš—ï¸":/(history|ØªØ§Ø±ÙŠØ®|islam|Ø¥Ø³Ù„Ø§Ù…|arab|Ø¹Ø±Ø¨)/.test(s)?"ğŸ“œ":/(nature|Ø·Ø¨ÙŠØ¹Ø©|animal|Ø­ÙŠÙˆØ§Ù†|plant|Ù†Ø¨Ø§Øª)/.test(s)?"ğŸŒ¿":/(culture|Ø«Ù‚Ø§ÙØ©|art|ÙÙ†|music|Ù…ÙˆØ³ÙŠÙ‚|general|Ø¹Ø§Ù…)/.test(s)?"ğŸ¨":/(math|Ø±ÙŠØ§Ø¶ÙŠØ§Øª|number|Ø¹Ø¯Ø¯)/.test(s)?"ğŸ”¢":/(food|Ø·Ø¹Ø§Ù…|cook|Ø·Ø¨Ø®)/.test(s)?"ğŸ•":/(movie|film|Ø³ÙŠÙ†Ù…Ø§|cinema)/.test(s)?"ğŸ¬":/(music|Ù…ÙˆØ³ÙŠÙ‚Ù‰|song|Ø£ØºÙ†ÙŠØ©)/.test(s)?"ğŸµ":"ğŸ§ "}function I(l){return l==="easy"?{label:"Ø³Ù‡Ù„",color:"#16a34a"}:l==="hard"?{label:"ØµØ¹Ø¨",color:"#dc2626"}:{label:"Ø¹Ø§Ø¯ÙŠ",color:"#2563eb"}}function be(){const[l,p]=c.useState([]),[s,y]=c.useState(!0),[F,E]=c.useState(null),[b,x]=c.useState(null),[v,m]=c.useState(null),[j,Q]=c.useState(6),[W,S]=c.useState([]),[M,k]=c.useState(!0),w=c.useRef(null),{showToast:z}=re(),r=oe()==="dark",N=u.currentUser?.email===se;c.useEffect(()=>{if(!u.currentUser?.uid){k(!1);return}const n=sessionStorage.getItem(C);if(n)try{const a=JSON.parse(n);Array.isArray(a)&&a.length>0&&(S(a),k(!1))}catch{sessionStorage.removeItem(C)}A().then(a=>{const o=a;S(o),sessionStorage.setItem(C,JSON.stringify(o))}).catch(console.error).finally(()=>k(!1))},[]),c.useEffect(()=>{const e=u.currentUser?.uid;if(!e){y(!1);return}return ie(e,a=>{p(a),y(!1)},a=>{console.error(a),y(!1)})},[]),c.useEffect(()=>{function e(n){w.current&&!w.current.contains(n.target)&&x(null)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);async function H(e,n){if(x(null),n!==e.visibility&&!(n==="private"&&!window.confirm(`Make "${e.title}" private?

It will no longer appear in the Public Library and no one else can see it.`))){m(e.id);try{await $(e.id,{visibility:n}),p(a=>a.map(o=>o.id===e.id?{...o,visibility:n}:o))}catch{alert("Failed to update visibility. Please try again.")}finally{m(null)}}}async function Y(e){x(null);const n=!e.featured;m(e.id);try{await $(e.id,{featured:n}),p(o=>o.map(d=>d.id===e.id?{...d,featured:n}:d));const a=await A().catch(()=>[]);S(a),z({message:n?"ğŸ“Œ ØªÙ… Ø§Ù„ØªØ«Ø¨ÙŠØª ÙÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©":"ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª",type:"success"})}catch{z({message:"Failed to update. Please try again.",type:"error"})}finally{m(null)}}const L=u.currentUser,_=L?.displayName||L?.email?.split("@")[0]||"there",P=new Date().getHours(),G=P<12?"Good morning":P<17?"Good afternoon":"Good evening",X=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),J=l.reduce((e,n)=>e+(n.questions?.length??0),0),V=l.filter(e=>e.visibility==="public").length,K=l.filter(e=>e.visibility==="private").length,B=[...l].sort((e,n)=>{const a=e.updatedAt?.seconds??0;return(n.updatedAt?.seconds??0)-a}).slice(0,4);return t.jsxs("div",{style:{padding:"0"},children:[t.jsxs("div",{style:{paddingTop:"1.5rem",paddingBottom:"1.25rem",marginBottom:"1.5rem",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"0.75rem"},children:[t.jsxs("div",{children:[t.jsxs("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:700,color:"var(--text-bright)"},children:[G,", ",_," ğŸ‘‹"]}),t.jsx("p",{style:{margin:"0.25rem 0 0",fontSize:"0.82rem",color:"var(--text-muted)"},children:X})]}),t.jsx(g,{to:"/editor",style:{textDecoration:"none"},children:t.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.65rem 1.3rem",borderRadius:"10px",background:"linear-gradient(135deg, #2563eb, #7c3aed)",border:"none",color:"#fff",fontSize:"0.9rem",fontWeight:600,cursor:"pointer",boxShadow:"0 4px 14px rgba(37,99,235,0.35)",whiteSpace:"nowrap"},children:[t.jsx("span",{children:"ï¼‹"})," New Quiz"]})})]}),(M||W.length>0)&&t.jsxs("div",{style:{marginBottom:"2rem"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",marginBottom:"0.9rem"},children:[t.jsx("div",{children:t.jsx("h3",{style:{margin:0,fontSize:"1.05rem",fontWeight:700,color:"var(--text-bright)"},children:"ğŸ® Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ø¨ØŸ"})}),t.jsx(g,{to:"/packs",style:{textDecoration:"none",fontSize:"0.75rem",fontWeight:700,color:r?"#a78bfa":"#7c3aed",whiteSpace:"nowrap",padding:"4px 10px",borderRadius:999,background:r?"rgba(124,58,237,0.12)":"rgba(124,58,237,0.08)",border:`1px solid ${r?"rgba(124,58,237,0.25)":"rgba(124,58,237,0.18)"}`},children:"Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø²ÙŠØ¯ â†"})]}),t.jsx("div",{style:{display:"flex",gap:"0.75rem",overflowX:"auto",paddingBottom:"4px",scrollSnapType:"x mandatory",WebkitOverflowScrolling:"touch",msOverflowStyle:"none"},children:M?[1,2,3,4,5].map(e=>t.jsx("div",{style:{minWidth:148,height:218,borderRadius:16,flexShrink:0,background:r?"linear-gradient(90deg,#1e293b 25%,#273549 50%,#1e293b 75%)":"linear-gradient(90deg,#e2e8f0 25%,#f1f5f9 50%,#e2e8f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite"}},e)):W.slice(0,6).map(e=>{const n=e.coverImage||U(e.questions??[]),a=O(e.tags??[],e.title),o=I(e.challengePreset);return t.jsxs("div",{style:{minWidth:148,maxWidth:148,flexShrink:0,scrollSnapAlign:"start",borderRadius:16,background:r?"#0f172a":"#fff",border:`1px solid ${r?"#1e293b":"#e8edf5"}`,boxShadow:r?"0 2px 12px rgba(0,0,0,0.4)":"0 2px 10px rgba(0,0,0,0.07)",display:"flex",flexDirection:"column",overflow:"hidden",transition:"transform 0.18s, box-shadow 0.18s"},onMouseEnter:d=>{d.currentTarget.style.transform="translateY(-4px)",d.currentTarget.style.boxShadow=r?"0 12px 28px rgba(0,0,0,0.55)":"0 8px 22px rgba(0,0,0,0.13)"},onMouseLeave:d=>{d.currentTarget.style.transform="translateY(0)",d.currentTarget.style.boxShadow=r?"0 2px 12px rgba(0,0,0,0.4)":"0 2px 10px rgba(0,0,0,0.07)"},children:[t.jsxs("div",{style:{height:100,position:"relative",flexShrink:0,background:"#0a0f1a",overflow:"hidden"},children:[t.jsx("img",{src:n||h,alt:e.title,onError:d=>{d.currentTarget.src=h},style:{width:"100%",height:"100%",objectFit:n?"cover":"contain",opacity:n?.88:.4,padding:n?0:14}}),t.jsx("span",{style:{position:"absolute",top:6,left:7,background:"rgba(0,0,0,0.52)",backdropFilter:"blur(4px)",borderRadius:7,padding:"2px 6px",fontSize:"0.85rem",border:"1px solid rgba(255,255,255,0.06)"},children:a}),t.jsx("span",{style:{position:"absolute",top:7,right:7,background:o.color,color:"#fff",fontSize:"0.52rem",fontWeight:800,padding:"2px 7px",borderRadius:999,letterSpacing:"0.05em",textTransform:"uppercase"},children:o.label})]}),t.jsxs("div",{style:{padding:"0.55rem 0.65rem 0.4rem",flex:1},children:[t.jsx("div",{style:{fontSize:"0.78rem",fontWeight:700,color:"var(--text-bright)",lineHeight:1.35,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",marginBottom:"0.25rem"},children:e.title}),t.jsxs("div",{style:{fontSize:"0.65rem",color:"var(--text-muted)",fontWeight:500},children:[e.questions?.length??0," Ø³Ø¤Ø§Ù„"]})]}),t.jsxs("a",{href:`${R}/?quiz=${encodeURIComponent(e.id)}&mode=host`,target:"_blank",rel:"noopener noreferrer",onClick:()=>{D("sessionHosted")},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.35rem",margin:"0 0.55rem 0.55rem",padding:"0.62rem 0",borderRadius:11,background:"linear-gradient(135deg, #16a34a, #15803d)",color:"#fff",textDecoration:"none",fontSize:"0.82rem",fontWeight:800,letterSpacing:"0.02em",boxShadow:"0 3px 10px rgba(22,163,74,0.38)",transition:"filter 0.15s"},onMouseEnter:d=>{d.currentTarget.style.filter="brightness(1.12)"},onMouseLeave:d=>{d.currentTarget.style.filter="brightness(1)"},children:[t.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:"13",height:"13",style:{flexShrink:0},children:t.jsx("path",{d:"M6.3 2.84A1.5 1.5 0 004 4.11v11.78a1.5 1.5 0 002.3 1.27l9.344-5.891a1.5 1.5 0 000-2.538L6.3 2.84z"})}),"Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†"]})]},e.id)})})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(145px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[{icon:"ğŸ“‹",value:s?"â€”":String(l.length),label:"Total Quizzes",accent:"#2563eb",bg:"rgba(37,99,235,0.12)"},{icon:"â“",value:s?"â€”":String(J),label:"Questions",accent:"#7c3aed",bg:"rgba(124,58,237,0.12)"},{icon:"ğŸŒ",value:s?"â€”":String(V),label:"Public",accent:"#059669",bg:"rgba(5,150,105,0.12)"},{icon:"ğŸ”’",value:s?"â€”":String(K),label:"Private",accent:"#d97706",bg:"rgba(217,119,6,0.12)"}].map(e=>t.jsxs("div",{style:{background:"var(--bg-surface)",border:"1px solid var(--border)",borderRadius:"14px",padding:"1rem 1.1rem",display:"flex",flexDirection:"column",gap:"0.45rem",position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{width:36,height:36,borderRadius:"10px",background:e.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1rem"},children:e.icon}),t.jsx("div",{style:{fontSize:"1.65rem",fontWeight:800,color:"var(--text-bright)",lineHeight:1},children:e.value}),t.jsx("div",{style:{fontSize:"0.72rem",color:"var(--text-muted)",fontWeight:500},children:e.label}),t.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"3px",background:e.accent,opacity:.6}})]},e.label))}),t.jsxs("div",{className:"dashboard-mid-grid",style:{marginBottom:"2.5rem"},children:[t.jsxs("div",{style:{background:"var(--bg-surface)",border:"1px solid var(--border)",borderRadius:"14px",padding:"1rem 1.1rem"},children:[t.jsx("div",{style:{fontSize:"0.68rem",fontWeight:700,color:"var(--text-muted)",letterSpacing:"0.07em",textTransform:"uppercase",marginBottom:"0.75rem"},children:"Quick Actions"}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.4rem"},children:[{icon:"ï¼‹",label:"New Quiz",to:"/editor",primary:!0},{icon:"âœï¸",label:"Quiz Editor",to:"/editor",primary:!1},{icon:"ğŸ“¦",label:"Packs Library",to:"/packs",primary:!1},{icon:"ğŸ’³",label:"Billing",to:"/billing",primary:!1}].map(e=>t.jsx(g,{to:e.to,style:{textDecoration:"none"},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.65rem",padding:"0.6rem 0.8rem",borderRadius:"9px",background:e.primary?"linear-gradient(135deg, #2563eb, #7c3aed)":"var(--bg-deep)",border:e.primary?"none":"1px solid var(--border)",color:e.primary?"#fff":"var(--text)",cursor:"pointer",transition:"opacity 0.15s, transform 0.15s",fontSize:"0.85rem",fontWeight:e.primary?700:500},onMouseEnter:n=>{n.currentTarget.style.opacity="0.85",n.currentTarget.style.transform="translateX(3px)"},onMouseLeave:n=>{n.currentTarget.style.opacity="1",n.currentTarget.style.transform="translateX(0)"},children:[t.jsx("span",{style:{width:20,textAlign:"center",flexShrink:0},children:e.icon}),t.jsx("span",{style:{flex:1},children:e.label}),t.jsx("span",{style:{fontSize:"0.7rem",opacity:.4},children:"â€º"})]})},e.label))})]}),t.jsxs("div",{style:{background:"var(--bg-surface)",border:"1px solid var(--border)",borderRadius:"14px",padding:"1rem 1.1rem"},children:[t.jsx("div",{style:{fontSize:"0.68rem",fontWeight:700,color:"var(--text-muted)",letterSpacing:"0.07em",textTransform:"uppercase",marginBottom:"0.75rem"},children:"Recently Updated"}),s?t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[1,2,3].map(e=>t.jsx("div",{style:{height:50,borderRadius:10,background:"linear-gradient(90deg, var(--bg-deep) 25%, var(--border) 50%, var(--bg-deep) 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite"}},e))}):B.length===0?t.jsx("div",{style:{textAlign:"center",padding:"2.5rem 1rem",color:"var(--text-muted)",fontSize:"0.85rem"},children:"No quizzes yet"}):t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.4rem"},children:B.map(e=>{const n=O(e.tags??[],e.title),a=I(e.challengePreset);return t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.6rem 0.75rem",borderRadius:"10px",background:"var(--bg-deep)",border:"1px solid var(--border)",transition:"border-color 0.15s"},onMouseEnter:o=>{o.currentTarget.style.borderColor="var(--border-strong)"},onMouseLeave:o=>{o.currentTarget.style.borderColor="var(--border)"},children:[t.jsx("span",{style:{fontSize:"1.25rem",flexShrink:0},children:n}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontSize:"0.83rem",fontWeight:600,color:"var(--text-bright)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.title}),t.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-muted)",marginTop:"1px"},children:[e.questions?.length??0," questions Â Â·Â ",t.jsx("span",{style:{color:a.color},children:a.label}),"Â Â·Â ",e.visibility==="public"?"ğŸŒ Public":"ğŸ”’ Private"]})]}),t.jsxs("div",{style:{display:"flex",gap:"0.3rem",flexShrink:0},children:[t.jsx(g,{to:`/preview/${e.id}`,title:"Preview",style:{textDecoration:"none"},children:t.jsx("button",{style:{background:"transparent",border:"1px solid var(--border)",color:"var(--text-dim)",padding:"4px 8px",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer"},children:"ğŸ‘ï¸"})}),t.jsx(g,{to:`/editor/${e.id}`,title:"Edit",style:{textDecoration:"none"},children:t.jsx("button",{style:{background:"#2563eb",border:"none",color:"#fff",padding:"4px 8px",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer"},children:"âœï¸"})})]})]},e.id)})})]})]}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.25rem"},children:t.jsxs("div",{children:[t.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:700,color:"var(--text-bright)"},children:"My Quizzes"}),t.jsx("p",{style:{margin:"0.2rem 0 0",fontSize:"0.78rem",color:"var(--text-muted)"},children:s?"...":`${l.length} quiz${l.length!==1?"zes":""}`})]})}),s&&t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:[1,2,3,4,5,6].map(e=>t.jsx("div",{style:{height:"190px",borderRadius:"12px",background:r?"linear-gradient(90deg, #1e293b 25%, #273549 50%, #1e293b 75%)":"linear-gradient(90deg, #e2e8f0 25%, #f1f5f9 50%, #e2e8f0 75%)",backgroundSize:"200% 100%",animation:"shimmer 1.5s infinite"}},e))}),!s&&l.length===0&&t.jsxs("div",{style:{textAlign:"center",padding:"5rem 2rem",border:`2px dashed ${r?"#1e293b":"#cbd5e1"}`,borderRadius:"20px",color:"var(--text-mid)"},children:[t.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"ğŸ“‹"}),t.jsx("h3",{style:{color:"#94a3b8",margin:"0 0 0.5rem"},children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø¨Ø¹Ø¯"}),t.jsx("p",{style:{margin:"0 0 1.5rem"},children:"Ø£Ù†Ø´Ø¦ Ø£ÙˆÙ„ Ø§Ø®ØªØ¨Ø§Ø± Ù„Ùƒ Ø§Ù„Ø¢Ù†"}),t.jsx(g,{to:"/editor",style:{textDecoration:"none"},children:t.jsx("button",{style:{padding:"0.75rem 2rem",borderRadius:"10px",background:"linear-gradient(135deg, #2563eb, #7c3aed)"},children:"ï¼‹ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ø®ØªØ¨Ø§Ø±"})})]}),!s&&l.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:l.slice(0,j).map(e=>{const n=e.coverImage||U(e.questions??[]),a=I(e.challengePreset),o=F===e.id,d={width:"100%",padding:"0.38rem 0.5rem",borderRadius:"7px",background:r?"#1e293b":"#f1f5f9",color:r?"#94a3b8":"#475569",fontSize:"0.75rem",fontWeight:600,border:`1px solid ${r?"#273549":"#e2e8f0"}`,cursor:"pointer",transition:"background 0.15s, color 0.15s"},Z={...d,background:r?"#1e3a5f":"#dbeafe",color:r?"#93c5fd":"#1d4ed8",border:`1px solid ${r?"#1e4a7a":"#bfdbfe"}`};return t.jsxs("div",{onMouseEnter:()=>E(e.id),onMouseLeave:()=>{E(null),b!==e.id&&x(null)},style:{borderRadius:"14px",background:r?"#0f172a":"#ffffff",border:`1px solid ${o?r?"#334155":"#cbd5e1":r?"#1e293b":"#e2e8f0"}`,boxShadow:o?r?"0 12px 32px rgba(0,0,0,0.5)":"0 8px 24px rgba(0,0,0,0.1)":r?"0 2px 8px rgba(0,0,0,0.3)":"0 1px 4px rgba(0,0,0,0.06)",transform:o?"translateY(-3px)":"translateY(0)",transition:"transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease",display:"flex",flexDirection:"column",cursor:"pointer",position:"relative"},children:[t.jsxs("div",{style:{height:"120px",position:"relative",overflow:"hidden",background:n?"#000":"#0f172a",flexShrink:0,borderRadius:"13px 13px 0 0"},children:[t.jsx("img",{src:n||h,alt:e.title,onError:i=>{i.currentTarget.src=h},style:{width:"100%",height:"100%",objectFit:n?"cover":"contain",opacity:o?.95:n?.75:.85,transition:"opacity 0.3s, transform 0.4s",transform:o?"scale(1.05)":"scale(1)",padding:n?0:"16px"}}),t.jsx("a",{href:`${R}/?quiz=${encodeURIComponent(e.id)}&mode=host`,target:"_blank",rel:"noopener noreferrer",onClick:i=>{i.stopPropagation(),D("sessionHosted")},style:{position:"absolute",top:"50%",left:"50%",transform:o?"translate(-50%, -50%) scale(1)":"translate(-50%, -50%) scale(0.8)",opacity:o?1:0,transition:"opacity 0.2s, transform 0.2s",padding:"0.4rem 1rem",borderRadius:"10px",whiteSpace:"nowrap",background:"rgba(22,163,74,0.9)",backdropFilter:"blur(4px)",border:"2px solid rgba(255,255,255,0.5)",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.35rem",color:"#fff",fontSize:"0.82rem",fontWeight:700,textDecoration:"none",zIndex:5,boxShadow:"0 4px 14px rgba(0,0,0,0.5)"},children:"â–¶ Play"}),t.jsx("div",{style:{position:"absolute",inset:0,background:r?"linear-gradient(to top, rgba(15,23,42,0.9) 0%, transparent 60%)":"linear-gradient(to top, rgba(255,255,255,0.85) 0%, transparent 55%)",pointerEvents:"none"}}),(()=>{const i=u.currentUser?.photoURL??null,q=(u.currentUser?.displayName||u.currentUser?.email||e.ownerId).slice(0,2).toUpperCase(),ee=`hsl(${e.ownerId.split("").reduce((T,te)=>T+te.charCodeAt(0),0)%360}, 55%, 40%)`;return t.jsxs("div",{style:{position:"absolute",top:"6px",left:"6px",width:"28px",height:"28px",borderRadius:"50%",background:ee,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.6rem",fontWeight:700,color:"#fff",border:"2px solid rgba(255,255,255,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.4)",overflow:"hidden",zIndex:6},children:[q,i&&t.jsx("img",{src:i,alt:"",onError:T=>{T.currentTarget.style.display="none"},style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}})]})})(),a.label!=="Custom"&&t.jsx("div",{style:{position:"absolute",top:"6px",right:"6px",background:a.color,color:"#fff",fontSize:"0.62rem",fontWeight:700,padding:"2px 7px",borderRadius:"999px",opacity:o?1:.6,transition:"opacity 0.2s"},children:a.label}),e.featured&&t.jsxs("div",{style:{position:"absolute",bottom:"6px",left:"6px",background:"rgba(180, 83, 9, 0.92)",backdropFilter:"blur(4px)",color:"#fff",fontSize:"0.62rem",fontWeight:700,padding:"2px 7px",borderRadius:"999px",display:"flex",alignItems:"center",gap:"3px",boxShadow:"0 1px 4px rgba(0,0,0,0.4)",zIndex:7},children:["ğŸ“Œ ",t.jsx("span",{children:"Ù…Ø«Ø¨Ù‘Øª"})]})]}),t.jsxs("div",{style:{position:"absolute",top:"6px",right:"6px",zIndex:10},ref:b===e.id?w:void 0,children:[t.jsx("div",{style:{opacity:o?1:0,transition:"opacity 0.15s"},children:t.jsx("button",{title:"More options",onClick:i=>{i.stopPropagation(),x(b===e.id?null:e.id)},disabled:v===e.id,style:{background:r?"rgba(15,23,42,0.8)":"rgba(255,255,255,0.88)",backdropFilter:"blur(6px)",border:`1px solid ${r?"#334155":"#cbd5e1"}`,color:r?"#94a3b8":"#475569",fontSize:"0.85rem",padding:"3px 7px",cursor:"pointer",borderRadius:"6px",lineHeight:1,opacity:v===e.id?.4:1},children:v===e.id?"â€¦":"â‹¯"})}),b===e.id&&t.jsxs("div",{style:{position:"absolute",top:"100%",right:0,zIndex:50,background:r?"#1e293b":"#ffffff",border:`1px solid ${r?"#334155":"#e2e8f0"}`,borderRadius:"10px",minWidth:"160px",boxShadow:"0 8px 24px rgba(0,0,0,0.5)",overflow:"hidden",marginTop:"4px"},children:[t.jsx("div",{style:{padding:"6px 10px",fontSize:"0.62rem",color:r?"#64748b":"#94a3b8",fontWeight:600,letterSpacing:"0.06em",textTransform:"uppercase"},children:"Visibility"}),["public","private"].map(i=>t.jsxs("button",{onClick:f=>{f.stopPropagation(),H(e,i)},style:{width:"100%",display:"flex",alignItems:"center",gap:"0.5rem",padding:"8px 12px",background:e.visibility===i?r?"#0f172a":"#f1f5f9":"transparent",border:"none",color:e.visibility===i?r?"#f1f5f9":"#0f172a":r?"#94a3b8":"#64748b",fontSize:"0.8rem",cursor:"pointer",textAlign:"left",transition:"background 0.15s"},onMouseEnter:f=>{e.visibility!==i&&(f.currentTarget.style.background=r?"#273549":"#f8fafc")},onMouseLeave:f=>{e.visibility!==i&&(f.currentTarget.style.background="transparent")},children:[t.jsx("span",{children:i==="public"?"ğŸŒ":"ğŸ”’"}),t.jsx("span",{style:{flex:1},children:i==="public"?"Ø¹Ø§Ù…":"Ø®Ø§Øµ"}),e.visibility===i&&t.jsx("span",{style:{fontSize:"0.7rem",color:"#2563eb"},children:"âœ“"})]},i)),N&&t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{height:1,background:r?"#1e293b":"#f1f5f9",margin:"4px 0"}}),t.jsx("div",{style:{padding:"4px 10px",fontSize:"0.62rem",color:r?"#64748b":"#94a3b8",fontWeight:600,letterSpacing:"0.06em",textTransform:"uppercase"},children:"Dashboard"}),t.jsxs("button",{onClick:i=>{i.stopPropagation(),Y(e)},style:{width:"100%",display:"flex",alignItems:"center",gap:"0.5rem",padding:"8px 12px",background:e.featured?r?"#0f172a":"#fef9c3":"transparent",border:"none",color:e.featured?"#b45309":r?"#94a3b8":"#64748b",fontSize:"0.8rem",cursor:"pointer",textAlign:"left",transition:"background 0.15s"},onMouseEnter:i=>{i.currentTarget.style.background=r?"#273549":"#f8fafc"},onMouseLeave:i=>{i.currentTarget.style.background=e.featured?r?"#0f172a":"#fef9c3":"transparent"},children:[t.jsx("span",{children:e.featured?"ğŸ“Œ":"ğŸ“"}),t.jsx("span",{style:{flex:1},children:e.featured?"Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ØªØ«Ø¨ÙŠØª":"ØªØ«Ø¨ÙŠØª ÙÙŠ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"}),e.featured&&t.jsx("span",{style:{fontSize:"0.7rem",color:"#d97706"},children:"âœ“"})]})]})]})]}),t.jsxs("div",{style:{padding:"0.65rem 0.8rem 0.5rem",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"0.875rem",fontWeight:400,color:"var(--text-bright)",lineHeight:1.4,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",marginBottom:"0.25rem"},children:e.title}),t.jsxs("div",{style:{fontSize:"0.72rem",color:"var(--text-mid)",fontWeight:500},children:[e.questions?.length??0," Ø³Ø¤Ø§Ù„"]})]}),t.jsxs("div",{style:{display:"flex",gap:"0.4rem",padding:"0 0.7rem 0.7rem",opacity:o?1:0,transform:o?"translateY(0)":"translateY(4px)",transition:"opacity 0.18s ease, transform 0.18s ease",pointerEvents:o?"auto":"none"},children:[t.jsx(g,{to:`/preview/${e.id}`,style:{textDecoration:"none",flex:1},children:t.jsx("button",{style:d,onMouseEnter:i=>Object.assign(i.currentTarget.style,{background:r?"#273549":"#e2e8f0",color:r?"#e2e8f0":"#0f172a"}),onMouseLeave:i=>Object.assign(i.currentTarget.style,{background:r?"#1e293b":"#f1f5f9",color:r?"#94a3b8":"#475569"}),children:"Ù…Ø¹Ø§ÙŠÙ†Ø©"})}),t.jsx(g,{to:`/editor/${e.id}`,style:{textDecoration:"none",flex:1},children:t.jsx("button",{style:Z,onMouseEnter:i=>Object.assign(i.currentTarget.style,{background:"#1d4ed8",color:"#fff",borderColor:"#2563eb"}),onMouseLeave:i=>Object.assign(i.currentTarget.style,{background:r?"#1e3a5f":"#dbeafe",color:r?"#93c5fd":"#1d4ed8",borderColor:r?"#1e4a7a":"#bfdbfe"}),children:"ØªØ¹Ø¯ÙŠÙ„"})}),t.jsx("button",{title:"Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±",onClick:i=>{i.stopPropagation(),navigator.clipboard?.writeText(`${R}/?quiz=${encodeURIComponent(e.id)}`).then(()=>{z({message:"ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·!",type:"success"}),ne(e.id).catch(console.error)})},style:{...d,width:"auto",flex:"none",padding:"0.38rem 0.55rem"},onMouseEnter:i=>Object.assign(i.currentTarget.style,{background:r?"#273549":"#e2e8f0",color:r?"#e2e8f0":"#0f172a"}),onMouseLeave:i=>Object.assign(i.currentTarget.style,{background:r?"#1e293b":"#f1f5f9",color:r?"#94a3b8":"#475569"}),children:"ğŸ”—"})]})]},e.id)})}),j<l.length&&t.jsx("div",{style:{textAlign:"center",marginTop:"1.5rem"},children:t.jsxs("button",{onClick:()=>Q(e=>e+6),style:{padding:"0.65rem 2.25rem",borderRadius:"10px",fontSize:"0.875rem",fontWeight:700,background:"linear-gradient(135deg, #2563eb, #7c3aed)",color:"#fff",border:"none",cursor:"pointer",transition:"opacity 0.15s, transform 0.15s",boxShadow:"0 4px 14px rgba(37,99,235,0.4)"},onMouseEnter:e=>{e.currentTarget.style.opacity="0.85",e.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.currentTarget.style.opacity="1",e.currentTarget.style.transform="translateY(0)"},children:["Load more Â· ",Math.min(6,l.length-j)," more"]})})]}),t.jsx("style",{children:`
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
      `})]})}export{be as DashboardPage};
